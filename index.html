<!DOCTYPE html>
<html>
<head>
<title>Intimidation Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="main.css">
</head>
<body>
<div id="form">
	<h1>Intimidation Test</h1>
	<hr>
	
	<form id = "input1" onchange="updateResult()">
		<h3>Threatens to kick me out of the GroupMe.</h3>
		<input type="radio" name="Question1" value="1" checked> 1 - Never<br>
		<input type="radio" name="Question1" value="2"> 2<br>
		<input type="radio" name="Question1" value="3"> 3<br>
		<input type="radio" name="Question1" value="4"> 4<br>
		<input type="radio" name="Question1" value="5"> 5 - Always 
	</form> 
	
	<form id = "input2" onchange="updateResult()">
		<h3>Says Hi to me if they see me around campus.</h3>
		<input type="radio" name="Question2" value="1" checked> 1 - Always<br>
		<input type="radio" name="Question2" value="2"> 2<br>
		<input type="radio" name="Question2" value="3"> 3<br>
		<input type="radio" name="Question2" value="4"> 4<br>
		<input type="radio" name="Question2" value="5"> 5 - Never 
	</form> 

	<form id = "input3" onchange="updateResult()">
		<h3>Purposely avoids sitting in a chair next to me.</h3>
		<input type="radio" name="Question3" value="1" checked> 1 - Never<br>
		<input type="radio" name="Question3" value="2"> 2<br>
		<input type="radio" name="Question3" value="3"> 3<br>
		<input type="radio" name="Question3" value="4"> 4<br>
		<input type="radio" name="Question3" value="5"> 5 - Always 
	</form> 

	<form id = "input4" onchange="updateResult()">
		<h3>Tries to be in control everything.</h3>
		<input type="radio" name="Question4" value="1" checked> 1 - Never<br>
		<input type="radio" name="Question4" value="2"> 2<br>
		<input type="radio" name="Question4" value="3"> 3<br>
		<input type="radio" name="Question4" value="4"> 4<br>
		<input type="radio" name="Question4" value="5"> 5 - Always 
	</form> 

	<form id = "input5" onchange="updateResult()">
		<h3>Will run over you with their car if you get in the way.</h3>
		<input type="radio" name="Question5" value="1" checked> 1 - Never<br>
		<input type="radio" name="Question5" value="2"> 2<br>
		<input type="radio" name="Question5" value="3"> 3<br>
		<input type="radio" name="Question5" value="4"> 4<br>
		<input type="radio" name="Question5" value="5"> 5 - Always 
	</form> 
	
	<form id = "input6" onchange="updateResult()">
		<h3>Will talk to me without first being talked to.</h3>
		<input type="radio" name="Question6" value="1" checked> 1 - Always<br>
		<input type="radio" name="Question6" value="2"> 2<br>
		<input type="radio" name="Question6" value="3"> 3<br>
		<input type="radio" name="Question6" value="4"> 4<br>
		<input type="radio" name="Question6" value="5"> 5 - Never 
	</form> 
	
    <br>
	<p id = "p1">Score: 0/124 - 0%</p>
</div>
</body>
<script>
var value1 = 0;
var v1Weight = 6;
var value2 = 0;
var v2Weight = 7;
var value3 = 0;
var v3Weight = 6;
var value4 = 0;
var v4Weight = 2;
var value5 = 0;
var v5Weight = 3;
var value6 = 0;
var v6Weight = 7;

var topScore = 124;

function updateResult(){
document.getElementById("p1").innerHTML = "Score: " + getScore() + "/" + topScore + " - " + Math.trunc((getScore()/topScore)*100) + "%" ;
}

function getScore() {
	var score = 5;

    var e = document.getElementById('input1');
	value1 = getRadioVal(e,'Question1') - 1;
	score = parseInt(value1)*v1Weight;

	var e = document.getElementById('input2');
	value2 = getRadioVal(e,'Question2') - 1;
	score += parseInt(value2)*v2Weight;
	
	var e = document.getElementById('input3');
	value3 = getRadioVal(e,'Question3') - 1;
	score += parseInt(value3)*v3Weight;

	var e = document.getElementById('input4');
	value4 = getRadioVal(e,'Question4') - 1;
	score += parseInt(value4)*v4Weight;
	
	var e = document.getElementById('input5');
	value5 = getRadioVal(e,'Question5') - 1;
	score += parseInt(value5)*v5Weight;
	
	var e = document.getElementById('input6');
	value6 = getRadioVal(e,'Question6') - 1;
	score += parseInt(value6)*v6Weight;
	
	//var score = parseInt(value1)+parseInt(value2)+parseInt(value3)+parseInt(value4);+parseInt(value5);
	//score = score*4;
    
	return score;
}

function getRadioVal(form, name) {
    var val;
    // get list of radio buttons with specified name
    var radios = form.elements[name];
    
    // loop through list of radio buttons
    for (var i=0, len=radios.length; i<len; i++) {
        if ( radios[i].checked ) { // radio checked?
            val = radios[i].value; // if so, hold its value in val
            break; // and break out of for loop
        }
    }
    return val; // return value of checked radio or undefined if none checked
}
</script>
</html>
